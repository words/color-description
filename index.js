var k=typeof require!="undefined"?require:s=>{throw new Error('Dynamic require of "'+s+'" is not supported')};var m=(s,e,r)=>{if(!e.has(s))throw TypeError("Cannot "+r)};var g=(s,e,r)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,r)};var n=(s,e,r)=>(m(s,e,"access private method"),r);var u,b,i,h;import p from"chroma-js";import v from"./en";const y=(s,e,r)=>s>=e&&s<=r,C=s=>[...s].sort(()=>.5-Math.random());class W{constructor(e,r=v){g(this,u);g(this,i);this.color=e,this.descriptions=r.descriptions,this.temperatures=r.temperatures,this.percentWords=r.percentWords}set color(e){this.currentColor=n(this,u,b).call(this,e)}get color(){return this.currentColor}get temeratureWords(){const e=this.color.temperature();return this.temperatures.reduce((r,t)=>Math.abs(t.value-e)<Math.abs(r.value-e)?t:r,{value:0})}percentages(e="gl"){const r=this.color[e]();e==="gl"&&r.pop();const t=r.reduce((o,a)=>o+a,0);return r.map(o=>t?o/t:0)}percentageWords(e="gl"){return this.percentages(e).map(r=>this.percentWords.find(t=>t.maxPercentile>=r).word)}get descriptiveWords(){return n(this,i,h).call(this,"descriptive")}get nouns(){return n(this,i,h).call(this,"nouns")}get meanings(){return n(this,i,h).call(this,"meanings")}get usage(){return n(this,i,h).call(this,"usage")}get description(){return n(this,i,h).call(this,"description")}get bestContrast(){return p.contrast(this.color,"black")>p.contrast(this.color,"white")?"black":"white"}getDescriptiveList(e,r){let t=[...this.descriptiveWords];if(e&&(t=C(t)),r&&(t=t.slice(0,r)),t.length>1){const o=t.pop();return`${t.join(", ")} and ${o}`}else return t[0]}}u=new WeakSet,b=function(e){if(p.valid(e))return p(e);throw new TypeError("Color is not a valid color, check the chroma.js documentation.","color-description",14)},i=new WeakSet,h=function(e="descriptive",r=!1,t){return this.descriptions.reduce((o,a)=>a.hasOwnProperty(e)&&Object.keys(a.criteria).every(l=>{const d=this.color[l]();return(l==="hsl"||l==="gl"||l==="rgb")&&d.pop(),a.criteria[l].every((c,f)=>c===null?!0:Array.isArray(c)?y(d[f],c[0],c[1]):isNaN(c)?!1:d[f]===c)})?[...new Set([...o,...a[e]])]:o,[])};export default W;
