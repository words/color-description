var k=typeof require!="undefined"?require:s=>{throw new Error('Dynamic require of "'+s+'" is not supported')};var m=(s,e,r)=>{if(!e.has(s))throw TypeError("Cannot "+r)};var g=(s,e,r)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,r)};var c=(s,e,r)=>(m(s,e,"access private method"),r);var u,b,n,p;import h from"chroma-js";import v from"./en";const y=(s,e,r)=>s>=e&&s<=r,C=s=>[...s].sort(()=>.5-Math.random());class W{constructor(e,r=v){g(this,u);g(this,n);this.color=e,this.descriptions=r.descriptions,this.temperatures=r.temperatures,this.percentWords=r.percentWords}set color(e){this.currentColor=c(this,u,b).call(this,e)}get color(){return this.currentColor}get temeratureWords(){const e=this.color.temperature();return this.temperatures.reduce((r,t)=>Math.abs(t.value-e)<Math.abs(r.value-e)?t:r,{value:0})}percentages(e="gl"){const r=this.color[e]();e==="gl"&&r.pop();const t=r.reduce((o,i)=>o+i,0);return r.map(o=>t?o/t:0)}percentageWords(e="gl"){return this.percentages(e).map(r=>this.percentWords.find(t=>t.maxPercentile>=r).word)}get descriptiveWords(){return c(this,n,p).call(this,"descriptive")}get nouns(){return c(this,n,p).call(this,"nouns")}get meanings(){return c(this,n,p).call(this,"meanings")}get usage(){return c(this,n,p).call(this,"usage")}get bestContrast(){return h.contrast(this.color,"black")>h.contrast(this.color,"white")?"black":"white"}getDescriptiveList(e,r){let t=[...this.descriptiveWords];if(e&&(t=C(t)),r&&(t=t.slice(0,r)),t.length>1){const o=t.pop();return`${t.join(", ")} and ${o}`}else return t[0]}}u=new WeakSet,b=function(e){if(h.valid(e))return h(e);throw new TypeError("Color is not a valid color, check the chroma.js documentation.","color-description",14)},n=new WeakSet,p=function(e="descriptive",r=!1,t){return this.descriptions.reduce((o,i)=>i.hasOwnProperty(e)&&Object.keys(i.criteria).every(l=>{const d=this.color[l]();return(l==="hsl"||l==="gl"||l==="rgb")&&d.pop(),i.criteria[l].every((a,f)=>a===null?!0:Array.isArray(a)?y(d[f],a[0],a[1]):isNaN(a)?!1:d[f]===a)})?[...new Set([...o,...i[e]])]:o,[])};export default W;
